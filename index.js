module.exports=function(e){var s="string"==typeof e.elem?document.getElementById(e.elem):e.elem,o="js-Dropdown-title",i="is-selected",t="is-open",n=s.options,l=n.length,d=document.createElement("div");d.className="js-Dropdown",s.id&&(d.id="custom-"+s.id);var a=document.createElement("button");a.className=o,a.textContent=n[0].textContent;var c=document.createElement("ul");c.className="js-Dropdown-list";for(var r=0;r<l;r++){var u=document.createElement("li");u.innerText=n[r].textContent,u.setAttribute("data-value",n[r].value),u.setAttribute("data-index",r),s.selectedIndex===r&&(u.classList.add(i),a.textContent=n[r].textContent),c.appendChild(u)}function m(){c.classList.toggle(t)}function v(){c.classList.remove(t)}return d.appendChild(a),d.appendChild(c),d.addEventListener("click",function(e){e.preventDefault();var t=e.target;t.className===o&&m();if("LI"===t.tagName){d.querySelector("."+o).innerText=t.innerText,s.options.selectedIndex=t.getAttribute("data-index");var n=new CustomEvent("change");s.dispatchEvent(n);for(var a=0;a<l;a++)c.querySelectorAll("li")[a].classList.remove(i);t.classList.add(i),v()}}),s.parentNode.insertBefore(d,s),s.style.display="none",document.addEventListener("click",function(e){d.contains(e.target)||v()}),{toggle:m,close:v,open:function(){c.classList.add(t)}}};